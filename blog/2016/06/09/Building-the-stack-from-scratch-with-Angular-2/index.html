<!--
                      _ _ _
   ___ _ __ _   _  __| (_) | ____ _
  / _ \ '__| | | |/ _` | | |/ / _` |
 |  __/ |  | |_| | (_| | |   < (_| |
  \___|_|   \__,_|\__,_|_|_|\_\__,_|
             a tiny software company

-->
<!DOCTYPE html>
<html lang="en-us" class="nojs">
  <head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="The official Erudika blog - we write about backend and frontend technologies
					like Java and JavaScript, IoT, mobile and Para.">
		<meta name="author" content="erudika.com">
		<meta property="fb:app_id" content="119564591416126">
    
		<title>Building a full stack application from scratch with Angular | Erudika Blog</title>
		<meta name="description" content="UPDATE: This article and its associated code have been updated for Angular 8.x. The same article is also available for React. In this tutorial we’re going to build a simple single-page application wit">
<meta property="og:type" content="article">
<meta property="og:title" content="Building a full stack application from scratch with Angular">
<meta property="og:url" content="https://erudika.com/blog/2016/06/09/Building-the-stack-from-scratch-with-Angular-2/index.html">
<meta property="og:site_name" content="Erudika Blog">
<meta property="og:description" content="UPDATE: This article and its associated code have been updated for Angular 8.x. The same article is also available for React. In this tutorial we’re going to build a simple single-page application wit">
<meta property="og:image" content="https://erudika.com/assets/img/blogpost_media5.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_1.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_2.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_3.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_4.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_5.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_6.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_7.png">
<meta property="article:published_time" content="2016-06-09T11:37:12.000Z">
<meta property="article:modified_time" content="2019-08-14T21:24:55.195Z">
<meta property="article:author" content="Alexander B.">
<meta property="article:tag" content="para">
<meta property="article:tag" content="angular">
<meta property="article:tag" content="tutorial">
<meta property="article:tag" content="typescript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://erudika.com/assets/img/blogpost_media5.png">
<meta name="twitter:creator" content="@para_io">
<meta property="fb:app_id" content="119564591416126">
		
    <link rel="alternative" href="/blog/atom.xml" title="Erudika Blog" type="application/atom+xml">
		

		<link rel="canonical" href="https://erudika.com/blog" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">

		<script type="application/ld+json">
			[{
			"@context": "http://schema.org",
			"@type": "Organization",
			"address": {
			"@type": "PostalAddress",
			"addressLocality": "Sofia, Bulgaria",
			"postalCode": "1618",
			"streetAddress": "4 Lelinska chuka Street"
			},
			"email": "contact(at)erudika.com",
			"vatID": "BG-200368755",
			"name": "Erudika",
			"url": "https://erudika.com",
			"logo": "https://www.erudika.com/assets/img/erudika.png",
			"sameAs": [
			"https://twitter.com/erudika",
			"https://www.linkedin.com/company/erudika",
			"https://github.com/Erudika"
			]
			},
			{
			"@context": "http://schema.org",
			"@type": "Blog",
			"name": "Erudika | Blog",
			"url": "https://erudika.com/blog",
			"genre": "technology/technical writing",
			"headline": "Building a full stack application from scratch with Angular"
			}]
		</script>
		<!-- Google Analytics	 -->
		
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-648525-7', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <meta name="generator" content="Hexo 4.2.0"></head>

	<body>
		<div id="container">
			<div id="wrap">
				<header id="header">
					<div class="navbar navbar-default">
						<div class="container">
							<div class="navbar-header">
								<a href="/">
									<img src="/assets/img/erudika.svg" width="256" height="66" alt="logo" class="erudika-logo"/>
								</a>
							</div>
							<ul class="nav navbar-nav navbar-right hidden-xs">
								<li class=""><a href="/blog"><span style="color: black;">Blog</span></a></li>
								<li class=""><a href="/#projects">Projects</a></li>
								<li class=""><a href="/#support">Support</a></li>
								<li class=""><a href="/#contact">Contact</a></li>
							</ul>
						</div>
					</div>
					
					<div id="banner" style="background: url('/assets/img/img7.jpg') center #000;
							 -webkit-background-size: cover; -moz-background-size: cover; background-size: cover;"></div>
					
					<div id="header-outer" class="outer">
						<div id="header-title" class="inner">
							<h1 id="logo-wrap">
								<span id="logo">Blog</span>
							</h1>
							
						</div>
					</div>
				</header>

				<div class="outer">
					<!--		<div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://erudika.com/blog"></form></div>-->
					<input type="text" id="search-box" class="search-form mt" value="" placeholder="Search" />
					<small class="right">powered by
						<a href="https://paraio.com" target="_blank">
							<img src="/assets/img/para_logo.svg" width="60" alt="Para"/>
						</a>
					</small>
				</div>

				<div class="outer">
					<section id="main"><article id="post-Building-the-stack-from-scratch-with-Angular-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2016/06/09/Building-the-stack-from-scratch-with-Angular-2/" class="article-date">
  <time datetime="2016-06-09T11:37:12.000Z" itemprop="datePublished">09 Jun 2016</time>
</a>
    
  </div>
  <div class="article-inner">
    
		

    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Building a full stack application from scratch with Angular
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>UPDATE:</strong> This article and its associated code have been updated for Angular 8.x. The same article is also <a href="http://www.erudika.com/blog/2019/08/14/Building-a-full-stack-application-from-scratch-with-React/" target="_blank" rel="noopener">available for React</a>.</p>
<p>In this tutorial we’re going to build a simple single-page application with <strong>Angular</strong> (v8 and above). This is intended
for developers unfamiliar with the new framework or having some experience with AngularJS. First of all, I got
<strong>Visual Studio Code</strong> installed on my machine and it’s running on Linux. I chose VS Code because we’ll be working with
<strong>TypeScript</strong> mostly and it has great support for it, but you can code in your favourite IDE as well.
Originally, the code in this article was based on the excellent Angular 2 Seed project by <a href="https://github.com/mgechev" target="_blank" rel="noopener">Minko Gechev</a>
That project is now deprecated in favor of Angular CLI and the code here has been migrated to use the new official build
tool for Angular. You’ll also need to have <strong>Git</strong>, <strong>Node.js</strong> and <strong>npm</strong> installed.</p>
<a id="more"></a>

<p><img src="https://erudika.com/assets/img/blogpost_media5.png" alt></p>
<h2 id="Step-0-frontend"><a href="#Step-0-frontend" class="headerlink" title="Step 0 (frontend)"></a>Step 0 (frontend)</h2><ul>
<li>Get <a href="https://code.visualstudio.com/Download" target="_blank" rel="noopener">Visual Studio Code</a></li>
<li>Get <a href="https://git-scm.com/downloads" target="_blank" rel="noopener">Git</a></li>
<li>Get <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">Node.js with npm</a></li>
<li>Install <a href="https://cli.angular.io/" target="_blank" rel="noopener">‘Angular CLI’</a> with <code>npm install -g @angular/cli</code></li>
<li>Open the project in the VS Code editor</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @angular/cli</span><br><span class="line">ng new angular-para</span><br><span class="line"><span class="built_in">cd</span> angular-para</span><br><span class="line"><span class="comment"># install the project's dependencies</span></span><br><span class="line">npm install</span><br><span class="line"><span class="comment"># watches your files and does live reload</span></span><br><span class="line">ng serve</span><br></pre></td></tr></table></figure>

<p>Next - <strong>the backend</strong>. Here, I could write a simple backend in Node.js and Express but I’m lazy so I chose not to.
Instead, I’m going to use <strong>Para</strong> for my backend and I’m not going to write <em>any</em> code on the server. If you are
new to Para, it’s a general-purpose backend framework/server written in Java. It will save me a lot of time and effort
because it has a nice JSON API for our app to connect to. To run the server you’re going to need a Java runtime.</p>
<h2 id="Step-0-backend"><a href="#Step-0-backend" class="headerlink" title="Step 0 (backend)"></a>Step 0 (backend)</h2><ul>
<li>Get <a href="https://jdk.java.net/12/" target="_blank" rel="noopener">Java</a></li>
<li>Get <a href="https://paraio.org/" target="_blank" rel="noopener">Para</a></li>
<li>Start the server in a separate terminal:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># run Para</span></span><br><span class="line">java -jar para-x.y.z.jar</span><br></pre></td></tr></table></figure>

<p>Now, check if Para is running - open your browser and go to <code>http://localhost:8080/v1</code>. You should see a response like
this:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"info"</span> : <span class="string">"Para - a backend for busy developers."</span>,</span><br><span class="line">  <span class="attr">"version"</span> : <span class="string">"x.y.z"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>We haven’t got access keys to the server yet, so let’s go ahead and do that, open:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/v1/_setup</span><br></pre></td></tr></table></figure>

<p>Save the credentials to a file, we’ll need them later to access the backend API.</p>
<h2 id="Step-1-API-access"><a href="#Step-1-API-access" class="headerlink" title="Step 1 - API access"></a>Step 1 - API access</h2><p>Let’s create an app for storing recipes - a recipe manager. Our goal will be to build just the basic CRUD functionality,
without adding extra features like authentication and login pages. By default the backend is secured and only signed
requests are allowed, but for the purpose of this tutorial we’re going to add a new permission to allow all requests to
just one specific resource - <code>/v1/recipes</code>.</p>
<p>Go to <a href="https://console.paraio.org" target="_blank" rel="noopener">console.paraio.org</a> and enter the credentials that you saved in the beginning. Also
click the cog icon to edit the API endpoint and set it to <code>http://localhost:8080</code>. Click ‘Connect’.</p>
<p>Next, go to ‘App’ on the left and edit the root app called <code>para</code>. You’ll see a section for resource permissions and
there you will write a simple permission definition in JSON:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"*"</span>: &#123;</span><br><span class="line">    <span class="attr">"recipes"</span>: [<span class="string">"*"</span>, <span class="string">"?"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This defines a single permission that allows <code>* - everyone</code> to access <code>/v1/recipes</code> using a list of allowed methods,
in this case <code>* - all HTTP methods</code> and <code>? - anonymous access</code> is allowed. Thus, we’re essentially making this resource
publicly available. Click ‘Save Changes’.</p>
<p><img src="https://erudika.com/assets/img/rman_1.png" alt></p>
<h2 id="Step-2-CRUD-recipes"><a href="#Step-2-CRUD-recipes" class="headerlink" title="Step 2 - CRUD recipes"></a>Step 2 - CRUD recipes</h2><p>Let’s create a new frontend component called “home” with the command <code>ng generate component home</code>.
Now let’s edit the ‘home’ component under <code>src/app/home</code>. In particular, we want to edit the HTML code in <code>home.component.html</code>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>My Recipes &amp;nbsp; <span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">"newRecipeForm()"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> (<span class="attr">submit</span>)=<span class="string">"search()"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> [(<span class="attr">ngModel</span>)]=<span class="string">"q"</span> <span class="attr">name</span>=<span class="string">"searchText"</span> <span class="attr">placeholder</span>=<span class="string">"Search"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- <span class="doctag">TODO:</span> add box showing "no recipes found" --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">"let recipe of recipesList; let i = index"</span> <span class="attr">class</span>=<span class="string">"recipe-box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> [<span class="attr">hidden</span>]=<span class="string">"editedRecipes.get(recipe.id) || (!recipe.id &amp;&amp; createMode)"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123;recipe.name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> [<span class="attr">innerHTML</span>]=<span class="string">"md2html(recipe.text)"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">href</span>=<span class="string">"#"</span> (<span class="attr">click</span>)=<span class="string">"editRecipe(recipe)"</span>&gt;</span>edit<span class="tag">&lt;/<span class="name">button</span>&gt;</span> &amp;nbsp;</span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> (<span class="attr">click</span>)=<span class="string">"removeRecipe(recipe.id)"</span> <span class="attr">class</span>=<span class="string">"red right"</span>&gt;</span>remove<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> [<span class="attr">hidden</span>]=<span class="string">"(recipe.id || !createMode) &amp;&amp; !editedRecipes.get(recipe.id)"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> (<span class="attr">submit</span>)=<span class="string">"addRecipe(recipe)"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> [(<span class="attr">ngModel</span>)]=<span class="string">"recipe.name"</span> <span class="attr">placeholder</span>=<span class="string">"Title"</span> [<span class="attr">name</span>]=<span class="string">"'name' + i"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">textarea</span> [(<span class="attr">ngModel</span>)]=<span class="string">"recipe.text"</span> <span class="attr">rows</span>=<span class="string">"10"</span> <span class="attr">cols</span>=<span class="string">"33"</span> <span class="attr">placeholder</span>=<span class="string">"Recipe"</span> [<span class="attr">name</span>]=<span class="string">"'text' + i"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> *<span class="attr">ngIf</span>=<span class="string">"createMode"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> *<span class="attr">ngIf</span>=<span class="string">"!createMode"</span>&gt;</span>Save<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        &amp;nbsp;</span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> (<span class="attr">click</span>)=<span class="string">"closeForm(recipe.id)"</span>&gt;</span>Close<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>I’ve added the “Add” button which shows the form where we can write a recipe (controlled by <code>newRecipeForm()</code>), a textarea,
and a close button. Notice how the text value of the “Add” button changes to “Save” when we’re in edit mode. Coming
from AngularJS, you’ll notice the weird <code>[(ngModel)]</code> syntax - it’s a two-way binding (single brackets is one-way).
Similarly, <code>*ngIf</code> is just shorthand for <code>[ngIf]</code>.</p>
<p>Let’s create a new “core” module and 2 new components inside it - the “toolbar” and “navbar”.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ng generate module core</span><br><span class="line">ng generate component core/toolbar</span><br><span class="line">ng generate component core/navbar</span><br></pre></td></tr></table></figure>

<p>Also, I chose to set a new title in the header section in <code>src/app/core/toolbar/toolbar.component.html</code>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Recipe Manager <span class="tag">&lt;<span class="name">code</span>&gt;</span><span class="tag">&lt;<span class="name">small</span>&gt;</span>v&#123;&#123;version&#125;&#125;<span class="tag">&lt;/<span class="name">small</span>&gt;</span><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"more"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Let’s create a new service to talk to our Para backend and fetch recipes. Let’s call it <code>RecipesService</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng generate service recipe</span><br></pre></td></tr></table></figure>

<p>The service file should be located in <code>src/app/recipe.service.ts</code>. We’ll modify the file <code>recipe.service.ts</code> to allow for
another parameter <code>text</code> in the <code>add()</code> method. Let’s also add the code for making the <code>POST</code> request to the backend:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; environment <span class="keyword">as</span> Config &#125; <span class="keyword">from</span> <span class="string">'src/environments/environment'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> RecipeService &#123;</span><br><span class="line">	<span class="keyword">private</span> appID = <span class="string">'app:myapp'</span>;</span><br><span class="line">	<span class="keyword">private</span> RECIPES_RESOURCE = Config.API + <span class="string">'/v1/recipes'</span>;</span><br><span class="line"></span><br><span class="line">	add(name: <span class="built_in">string</span>, text: <span class="built_in">string</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!name || !text) &#123; <span class="keyword">return</span> of(<span class="literal">null</span>); &#125;</span><br><span class="line">		<span class="keyword">const</span> recipe: <span class="built_in">any</span> = &#123; name: name, text: text &#125;;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.http.post(<span class="keyword">this</span>.RECIPES_RESOURCE, <span class="built_in">JSON</span>.stringify(recipe), <span class="keyword">this</span>.options);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>Config</code> object is actually imported from <code>src/environments/environment.ts</code> where we have a JS object containing all
the configuration properties for our project. That file replaced with <code>environment.prod.ts</code> when we compile the project
for production use.</p>
<p>In the code for <code>home.component.ts</code> we’ll add a few fields to manage the recipes. The start of that component should look
like this:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  selector: <span class="string">'app-home'</span>,</span><br><span class="line">  templateUrl: <span class="string">'home.component.html'</span>,</span><br><span class="line">  styleUrls: [<span class="string">'home.component.css'</span>],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> HomeComponent <span class="keyword">implements</span> OnInit &#123;</span><br><span class="line">  recipesList: <span class="built_in">Array</span>&lt;<span class="built_in">any</span>&gt;;</span><br><span class="line">  createMode = <span class="literal">false</span>;</span><br><span class="line">  q: <span class="built_in">string</span>;</span><br><span class="line">  editedRecipes: Map&lt;<span class="built_in">string</span>, <span class="built_in">boolean</span>&gt;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"><span class="keyword">public</span> recipeService: RecipeService</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.editedRecipes = <span class="keyword">new</span> Map&lt;<span class="built_in">string</span>, <span class="built_in">boolean</span>&gt;();</span><br><span class="line">    <span class="keyword">this</span>.recipesList = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  addRecipe(): <span class="built_in">boolean</span> &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now we’re going to focus on that <code>addRecipe()</code> method so let’s implement it:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">addRecipe(recipe: <span class="built_in">any</span>) &#123;</span><br><span class="line">	<span class="keyword">this</span>.recipeService.add(recipe.name, recipe.text)</span><br><span class="line">		.subscribe(<span class="function">(<span class="params">data: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (data) &#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="keyword">this</span>.createMode) &#123;</span><br><span class="line">					<span class="keyword">const</span> first = <span class="keyword">this</span>.recipesList.shift();</span><br><span class="line">					<span class="keyword">this</span>.recipesList.unshift(data);</span><br><span class="line">					<span class="keyword">this</span>.recipesList.unshift(first);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="keyword">this</span>.recipesList.unshift(data);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	<span class="keyword">this</span>.closeForm(recipe.id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Let’s also add the method for listing recipes <code>listRecipes()</code> and call it upon initialization:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ngOnInit() &#123;</span><br><span class="line">	<span class="keyword">this</span>.listRecipes();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">listRecipes() &#123;</span><br><span class="line">	<span class="keyword">this</span>.recipeService.get()</span><br><span class="line">		.subscribe(<span class="function">(<span class="params">data: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">			<span class="keyword">this</span>.recipesList = data.items;</span><br><span class="line">		&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>You’ll notice that in <code>home.component.ts</code>, we subscribe to the <code>Observable</code> returned by
<code>recipeService.add()</code> and get back the list of recipes when they arrive.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.recipeService.add(<span class="keyword">this</span>.newName, <span class="keyword">this</span>.newRecipe).subscribe(<span class="function">(<span class="params">data: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// response might be null or empty</span></span><br><span class="line">    <span class="keyword">if</span> (data) &#123;</span><br><span class="line">        <span class="keyword">this</span>.recipesList.unshift(data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>In <code>home.component.html</code> we loop over the <code>recipesList</code> of all available recipes, and also a box which appears
when there are no recipes to show:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"empty-box"</span> *<span class="attr">ngIf</span>=<span class="string">"recipesList &amp;&amp; recipesList.length == 0"</span>&gt;</span></span><br><span class="line">    No recipes to show.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">"let recipe of recipesList"</span> <span class="attr">class</span>=<span class="string">"recipe-box"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Let’s add the styling for <code>.recipe-box</code> and <code>.empty-box</code> later in <code>home.component.css</code>:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.recipe-box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-table;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">30px</span> <span class="number">0</span> -<span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#106cc8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.empty-box</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1.5em</span> <span class="number">0</span> <span class="number">1em</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">3em</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">3px</span> dashed;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In <code>src/styles.css</code> I’ve also added a few more tweaks to the CSS:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span>, <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#106cc8</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#106cc8</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(255, 255, 255, 0.87);</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">background-color</span>: <span class="number">#28739e</span>; &#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-class">.small</span> &#123; <span class="attribute">font-size</span>: <span class="number">12px</span>; <span class="attribute">height</span>: <span class="number">30px</span>; &#125;</span><br><span class="line"><span class="selector-class">.red</span> &#123; <span class="attribute">color</span>: indianred; &#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123; <span class="attribute">float</span>: right; &#125;</span><br><span class="line"><span class="selector-class">.center</span> &#123; <span class="attribute">text-align</span>: center; &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://erudika.com/assets/img/rman_2.png" alt></p>
<p>So, we should now we able to add recipes and after we click “Add” the form should be cleared and closed.
For this let’s add a couple of methods in <code>home.component.ts</code> - one to initialize the form and one to reset the
state of the form:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">newRecipeForm() &#123;</span><br><span class="line">	<span class="keyword">if</span> (!<span class="keyword">this</span>.createMode) &#123;</span><br><span class="line">		<span class="keyword">this</span>.recipesList.unshift(&#123;name: <span class="string">''</span>, text: <span class="string">''</span>&#125;);</span><br><span class="line">		<span class="keyword">this</span>.createMode = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">closeForm(recipeId: <span class="built_in">string</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (recipeId) &#123;</span><br><span class="line">		<span class="keyword">this</span>.editedRecipes.set(recipeId, <span class="literal">false</span>);</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.createMode) &#123;</span><br><span class="line">		<span class="keyword">this</span>.recipesList.shift();</span><br><span class="line">		<span class="keyword">this</span>.createMode = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://erudika.com/assets/img/rman_3.png" alt></p>
<p>The variable <code>recipeId</code> will keep the value of the <code>id</code> when a recipe is being edited. When “Save” is clicked this
<code>id</code> is passed to the service and the backend so it won’t create a new object, just update an existing one.
We’re issuing these requests and we don’t care about the results because we can update the UI
instantly, without having to wait for the request to finish.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">editRecipe(recipe: <span class="built_in">any</span>) &#123;</span><br><span class="line">	<span class="keyword">this</span>.editedRecipes.set(recipe.id, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">removeRecipe(id: <span class="built_in">string</span>) &#123;</span><br><span class="line">	<span class="keyword">this</span>.recipeService.remove(id).subscribe();</span><br><span class="line">	<span class="keyword">this</span>.recipesList = <span class="keyword">this</span>.recipesList.filter(<span class="function">(<span class="params">el</span>) =&gt;</span> el.id !== id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Let’s also add similar methods in our <code>RecipeService</code> for updating and deleting recipes. The methods <code>editRecipe()</code> and
<code>removeRecipe()</code> are relatively straightforward - when editing, we switch to edit mode and we show the form, when
removing we just filter the array <code>recipesList</code> and we discard the deleted recipe if it matches the <code>id</code>.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">edit(id: <span class="built_in">string</span>, name: <span class="built_in">string</span>, text: <span class="built_in">string</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (!id) &#123; <span class="keyword">return</span> of(<span class="literal">null</span>); &#125;</span><br><span class="line">	<span class="keyword">const</span> recipe: <span class="built_in">any</span> = &#123; name: name, text: text &#125;;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.http.patch(<span class="keyword">this</span>.RECIPES_RESOURCE + <span class="string">'/'</span> + id, <span class="built_in">JSON</span>.stringify(recipe), <span class="keyword">this</span>.options);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">remove(id: <span class="built_in">string</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (!id) &#123; <span class="keyword">return</span> of(<span class="literal">null</span>); &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.http.delete(<span class="keyword">this</span>.RECIPES_RESOURCE + <span class="string">'/'</span> + id, <span class="keyword">this</span>.options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In <code>home.component.ts</code> we’ll modify the code for <code>addRecipe()</code> to also edit a recipe when <code>recipe.id</code> is set.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">addRecipe(recipe: <span class="built_in">any</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (recipe &amp;&amp; recipe.id) &#123;</span><br><span class="line">		<span class="keyword">this</span>.recipeService.edit(recipe.id, recipe.name, recipe.text).subscribe();</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">this</span>.recipeService.add(recipe.name, recipe.text)</span><br><span class="line">			.subscribe(<span class="function">(<span class="params">data: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (data) &#123;</span><br><span class="line">					<span class="keyword">if</span> (<span class="keyword">this</span>.createMode) &#123;</span><br><span class="line">						<span class="keyword">const</span> first = <span class="keyword">this</span>.recipesList.shift();</span><br><span class="line">						<span class="keyword">this</span>.recipesList.unshift(data);</span><br><span class="line">						<span class="keyword">this</span>.recipesList.unshift(first);</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						<span class="keyword">this</span>.recipesList.unshift(data);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">this</span>.closeForm(recipe.id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://erudika.com/assets/img/rman_4.png" alt></p>
<p>We can now add, edit and remove recipes but they aren’t very pretty and the formatting of the text
is lost. In the next step we’ll make it possible to write the recipe text in Markdown and then render it in HTML.</p>
<h2 id="Step-3-Markdown-support"><a href="#Step-3-Markdown-support" class="headerlink" title="Step 3 - Markdown support"></a>Step 3 - Markdown support</h2><p>First of all, let’s install <code>showdown</code> - a nice JavaScript parser for Markdown:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install showdown --save</span><br><span class="line">npm install @types/showdown --save-dev</span><br></pre></td></tr></table></figure>

<p>Then we import it in <code>home.component.ts</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Converter &#125; from &apos;showdown&apos;;</span><br></pre></td></tr></table></figure>

<p>Finally we’ll implement a simple method called <code>md2html()</code> which will be used in our template.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">md2html(text: <span class="built_in">string</span>): <span class="built_in">string</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> Converter().makeHtml(text || <span class="string">''</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In our HTML template we call it like this:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> [<span class="attr">innerHTML</span>]=<span class="string">"md2html(recipe.text)"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Now we render the text to HTML on the client and this allows us to write beautiful recipes like this:</p>
<p><img src="https://erudika.com/assets/img/rman_5.png" alt></p>
<h2 id="Step-4-Full-text-search"><a href="#Step-4-Full-text-search" class="headerlink" title="Step 4 - Full-text search"></a>Step 4 - Full-text search</h2><p>The final feature left is the recipe search box. We’ll use the built-in full-text search in Para. In <code>recipe.service.ts</code>:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">search(q: <span class="built_in">string</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.http.get(<span class="keyword">this</span>.RECIPES_RESOURCE + <span class="string">'?q='</span> + q, <span class="keyword">this</span>.options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And in <code>home.component.ts</code>:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">search(): <span class="built_in">boolean</span> &#123;</span><br><span class="line">	<span class="keyword">this</span>.recipeService.search(<span class="keyword">this</span>.q || <span class="string">'*'</span>).subscribe(<span class="function">(<span class="params">data: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (data.items) &#123;</span><br><span class="line">			<span class="keyword">this</span>.recipesList = data.items;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Finally, we add the search box in the template below the heading:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>My Recipes &amp;nbsp; <span class="tag">&lt;<span class="name">button</span> (<span class="attr">click</span>)=<span class="string">"newRecipeForm()"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> (<span class="attr">submit</span>)=<span class="string">"search()"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> [(<span class="attr">ngModel</span>)]=<span class="string">"q"</span> <span class="attr">name</span>=<span class="string">"searchText"</span> <span class="attr">placeholder</span>=<span class="string">"Search"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>And we’re done! Here’s final result of our <strong>Recipe Manager</strong>
(check out <a href="http://albogdano.github.io/angular2-para/" target="_blank" rel="noopener">the live demo</a>):</p>
<p><img src="https://erudika.com/assets/img/rman_6.png" alt></p>
<h2 id="Final-touches"><a href="#Final-touches" class="headerlink" title="Final touches"></a>Final touches</h2><p>You can see the result in your browser by running <code>ng serve</code>. Optionally, you can make this web application “progressive”
(PWA) by adding the package <code>@angular/pwa</code> with <code>ng add @angular/pwa</code>. This will create a <code>manifest.json</code> and make the
page available offline. Our code now passes the Lighthouse audit with flying colors!</p>
<p><img src="https://erudika.com/assets/img/rman_7.png" alt></p>
<p>All that is left is to build the project for production and deploy it:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ng build --prod --base-href /angular2-para/</span><br><span class="line"># git push origin master</span><br></pre></td></tr></table></figure>

<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Learning Angular takes some time as it introduces a lot of architectural changes and new syntax.
Writing in TypeScript feels fresh and more like writing in a modern statically typed language like C# or Java,
rather than a dynamic language like JS. The <code>import</code> syntax was a bit hard for me to get used to, especially
with all the different files I had to navigate through. In general, the experience of writing Angular apps with the help
of the new Angular CLI tool is great - the scaffolding just works, the build process is fast and painless,
the TypeScript syntax is clean, the app is well structured and the error messages are clear and understandable.</p>
<p><strong>Things we did:</strong></p>
<ul>
<li>generated a new project from scratch with Angular CLI</li>
<li>wrote a few fancy AJAX calls to our backend API</li>
<li>wired a bunch of simple TypeScript code between a component and a service</li>
<li>wrote some good old HTML and CSS</li>
<li>imported an external library with npm an typings</li>
</ul>
<p><strong>Things we didn’t do:</strong></p>
<ul>
<li>didn’t write <em>any</em> backend code for CRUD operations on recipes</li>
<li>didn’t define a schema for the “recipe” type on the server side</li>
</ul>
<p>The complete code for this tutorial is on GitHub at <a href="https://github.com/albogdano/angular2-para" target="_blank" rel="noopener">albogdano/angular2-para</a>.
I’ve deployed the same code to GitHub pages as a <a href="http://albogdano.github.io/angular2-para/" target="_blank" rel="noopener">live demo</a> which
is powered by our <a href="https://paraio.com" target="_blank" rel="noopener">cloud-based Para service</a>.</p>
<p> <em>Have questions or suggestions? Chat with us <a href="https://gitter.im/Erudika/para" target="_blank" rel="noopener">on Gitter</a>!</em></p>

      
    </div>
    <div class="article-footer">
      <a data-url="https://erudika.com/blog/2016/06/09/Building-the-stack-from-scratch-with-Angular-2/" data-id="cjzbpvynu00036f4s72d6bpss" class="article-share-link">Share</a>
      
				<a href="https://twitter.com/albogdano" target="_blank" rel="noopener">
					<img class="img-circle" src="https://www.gravatar.com/avatar/6888890e3e742a7c7357a4c74be405b8?s=60" width="30" height="30" alt="author"/>&nbsp; Alex B.
				</a>
      

      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/angular/" rel="tag">angular</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/para/" rel="tag">para</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/tutorial/" rel="tag">tutorial</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/typescript/" rel="tag">typescript</a></li></ul>

    </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2016/08/12/An-open-source-backend-for-the-Internet-of-Things/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          An open source backend for the Internet of Things
        
      </div>
    </a>
  
  
    <a href="/blog/2016/06/01/jPrime-roundup-Para-client-iOS-Swift/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">jPrime roundup, Para client for iOS and Swift</div>
    </a>
  
</nav>

  
</article>

</section>
				</div>
				<footer>
	<div class="container">
		
			<div class="row">
	<div class="col-md-6">
		
  <div class="widget-wrap">
    <h3 class="widget-title">Recents
			
				<a href="/blog/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a>
			
		</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2020/09/22/Announcing-Scoold-Cloud/">Announcing Scoold Cloud</a>
          </li>
        
          <li>
            <a href="/blog/2020/03/22/Status-update-Python-client-Scoold-API-integrations-and-more/">Status update - Python client, Scoold API, integrations and more</a>
          </li>
        
          <li>
            <a href="/blog/2019/08/14/Building-a-full-stack-application-from-scratch-with-React/">Building a full stack application from scratch with React</a>
          </li>
        
          <li>
            <a href="/blog/2019/07/04/Webhooks-implemented-in-Para-and-Scoold/">Webhooks implemented in Para and Scoold</a>
          </li>
        
          <li>
            <a href="/blog/2019/01/28/Status-update-containers-Java-11-and-more/">Status update - containers, Java 11 and more</a>
          </li>
        
          <li>
            <a href="/blog/2018/12/30/Top-5-open-source-Q-A-platforms/">Top 5 open source Q&amp;A platforms for 2020</a>
          </li>
        
          <li>
            <a href="/blog/2018/10/15/Announcing-Scoold-Pro/">Announcing Scoold Pro</a>
          </li>
        
          <li>
            <a href="/blog/2017/04/27/Introducing-Scoold-an-open-source-Q-and-A-platform/">Introducing Scoold - an open source Q&amp;A platform</a>
          </li>
        
          <li>
            <a href="/blog/2016/12/12/Implementing-full-text-search-for-your-static-site/">Implementing full-text search for your static site</a>
          </li>
        
          <li>
            <a href="/blog/2016/11/21/Saving-money-on-DynamoDB-with-Global-Secondary-Indexes/">Saving money on DynamoDB with Global Secondary Indexes</a>
          </li>
        
      </ul>
    </div>
  </div>

	</div>
	<div class="col-md-3">
		
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/API/" style="font-size: 13.33px;">API</a> <a href="/blog/tags/angular/" style="font-size: 13.33px;">angular</a> <a href="/blog/tags/aws/" style="font-size: 10px;">aws</a> <a href="/blog/tags/baas/" style="font-size: 10px;">baas</a> <a href="/blog/tags/backend/" style="font-size: 13.33px;">backend</a> <a href="/blog/tags/blog/" style="font-size: 10px;">blog</a> <a href="/blog/tags/clone/" style="font-size: 10px;">clone</a> <a href="/blog/tags/devices/" style="font-size: 10px;">devices</a> <a href="/blog/tags/docker/" style="font-size: 10px;">docker</a> <a href="/blog/tags/dynamodb/" style="font-size: 10px;">dynamodb</a> <a href="/blog/tags/enterprise/" style="font-size: 10px;">enterprise</a> <a href="/blog/tags/frameworks/" style="font-size: 10px;">frameworks</a> <a href="/blog/tags/frontend/" style="font-size: 10px;">frontend</a> <a href="/blog/tags/general/" style="font-size: 10px;">general</a> <a href="/blog/tags/helm/" style="font-size: 10px;">helm</a> <a href="/blog/tags/hosting/" style="font-size: 10px;">hosting</a> <a href="/blog/tags/ios/" style="font-size: 10px;">ios</a> <a href="/blog/tags/iot/" style="font-size: 10px;">iot</a> <a href="/blog/tags/jprime/" style="font-size: 13.33px;">jprime</a> <a href="/blog/tags/jsx/" style="font-size: 10px;">jsx</a> <a href="/blog/tags/kubernetes/" style="font-size: 10px;">kubernetes</a> <a href="/blog/tags/lucene/" style="font-size: 10px;">lucene</a> <a href="/blog/tags/mattermost/" style="font-size: 10px;">mattermost</a> <a href="/blog/tags/mongodb/" style="font-size: 10px;">mongodb</a> <a href="/blog/tags/ng-admin/" style="font-size: 10px;">ng-admin</a> <a href="/blog/tags/open-source/" style="font-size: 10px;">open-source</a> <a href="/blog/tags/para/" style="font-size: 20px;">para</a> <a href="/blog/tags/para-cli/" style="font-size: 10px;">para-cli</a> <a href="/blog/tags/python/" style="font-size: 10px;">python</a> <a href="/blog/tags/react/" style="font-size: 10px;">react</a> <a href="/blog/tags/release/" style="font-size: 16.67px;">release</a> <a href="/blog/tags/saas/" style="font-size: 10px;">saas</a> <a href="/blog/tags/scoold/" style="font-size: 16.67px;">scoold</a> <a href="/blog/tags/search/" style="font-size: 10px;">search</a> <a href="/blog/tags/slack/" style="font-size: 10px;">slack</a> <a href="/blog/tags/stackoverflow/" style="font-size: 13.33px;">stackoverflow</a> <a href="/blog/tags/swift/" style="font-size: 10px;">swift</a> <a href="/blog/tags/tips/" style="font-size: 10px;">tips</a> <a href="/blog/tags/tutorial/" style="font-size: 13.33px;">tutorial</a> <a href="/blog/tags/typescript/" style="font-size: 10px;">typescript</a> <a href="/blog/tags/webhooks/" style="font-size: 10px;">webhooks</a>
    </div>
  </div>

	</div>
	<div class="col-md-3">
		<div class="widget-wrap">
	<div class="widget">
		<a class="twitter-timeline" data-lang="en" data-width="290" data-height="300" data-theme="light" href="https://twitter.com/erudika" target="_blank" rel="noopener">
			Tweets by erudika</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
	</div>
</div>


	</div>

<!--	<div>
		<div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://erudika.com/blog"></form></div>
	</div>-->
</div>

		
		<div class="row">
				<div class="col-xs-6">
					<i class="fa fa-creative-commons" title="Creative Commons Attribution, Share-Alike License"></i>
					2021 Erudika
				</div>
				<div class="col-xs-6 text-right">
					<a href="https://github.com/Erudika/erudika.github.io" target="_blank">Powered by Hexo.</a>
					<strong>
						Images courtesy of <a href="http://nos.twnsnd.co" target="_blank">New Old Stock</a>.
					</strong>
				</div>
		</div>
	</div>
</footer>
			</div>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.11.1/typeahead.bundle.min.js"></script>
<script>
	if (!Modernizr.svg) { $("img.erudika-logo").attr("src", "/assets/img/erudika.png"); }
</script>

  
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">

  
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>


		</div>
	</body>
</html>
