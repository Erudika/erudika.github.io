<!--
                      _ _ _
   ___ _ __ _   _  __| (_) | ____ _
  / _ \ '__| | | |/ _` | | |/ / _` |
 |  __/ |  | |_| | (_| | |   < (_| |
  \___|_|   \__,_|\__,_|_|_|\_\__,_|
             a tiny software company

-->
<!DOCTYPE html>
<html lang="en-us" class="nojs">
  <head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="The official Erudika blog - we write about backend and frontend technologies
					like Java and JavaScript, IoT, mobile and Para.">
		<meta name="author" content="erudika.com">
		<meta property="fb:app_id" content="119564591416126">
    
		<title>Building a full stack application from scratch with React | Erudika Blog</title>
		<meta name="description" content="Note: This article is a clone of another one written for Angular. In this tutorial we’re going to build a simple single-page application with React (v16 and above). This is intended for developers unf">
<meta property="og:type" content="article">
<meta property="og:title" content="Building a full stack application from scratch with React">
<meta property="og:url" content="https://erudika.com/blog/2019/08/14/Building-a-full-stack-application-from-scratch-with-React/index.html">
<meta property="og:site_name" content="Erudika Blog">
<meta property="og:description" content="Note: This article is a clone of another one written for Angular. In this tutorial we’re going to build a simple single-page application with React (v16 and above). This is intended for developers unf">
<meta property="og:locale">
<meta property="og:image" content="https://erudika.com/assets/img/blogpost_media14.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_1.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_2.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_3.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_4.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_5.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_6.png">
<meta property="og:image" content="https://erudika.com/assets/img/rman_7.png">
<meta property="article:published_time" content="2019-08-14T20:38:11.000Z">
<meta property="article:modified_time" content="2019-08-14T22:46:13.025Z">
<meta property="article:author" content="Alexander B.">
<meta property="article:tag" content="para">
<meta property="article:tag" content="react">
<meta property="article:tag" content="tutorial">
<meta property="article:tag" content="jsx">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://erudika.com/assets/img/blogpost_media14.png">
<meta name="twitter:creator" content="@para_io">
		
    <link rel="alternative" href="/blog/atom.xml" title="Erudika Blog" type="application/atom+xml">
		

		<link rel="canonical" href="https://erudika.com/blog" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700" rel="stylesheet">
    <link href="/assets/css/main.css" rel="stylesheet">

		<script type="application/ld+json">
			[{
			"@context": "http://schema.org",
			"@type": "Organization",
			"address": {
			"@type": "PostalAddress",
			"addressLocality": "Sofia, Bulgaria",
			"postalCode": "1618",
			"streetAddress": "4 Lelinska chuka Street"
			},
			"email": "contact(at)erudika.com",
			"vatID": "BG-200368755",
			"name": "Erudika",
			"url": "https://erudika.com",
			"logo": "https://www.erudika.com/assets/img/erudika.png",
			"sameAs": [
			"https://twitter.com/erudika",
			"https://www.linkedin.com/company/erudika",
			"https://github.com/Erudika"
			]
			},
			{
			"@context": "http://schema.org",
			"@type": "Blog",
			"name": "Erudika | Blog",
			"url": "https://erudika.com/blog",
			"genre": "technology/technical writing",
			"headline": "Building a full stack application from scratch with React"
			}]
		</script>
		<!-- Google Analytics	 -->
		
		<!-- Matomo -->
		<script>
			var _paq = window._paq = window._paq || [];
			/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
			_paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
			_paq.push(["setDoNotTrack", true]);
			_paq.push(["disableCookies"]);
			_paq.push(['trackPageView']);
			_paq.push(['enableLinkTracking']);
			(function() {
				var u="//matomo.fixproperty.eu/";
				_paq.push(['setTrackerUrl', u+'matomo.php']);
				_paq.push(['setSiteId', '1']);
				var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
				g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
			})();
		</script>
		<noscript><p><img referrerpolicy="no-referrer-when-downgrade" src="//matomo.fixproperty.eu/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p></noscript>
		<!-- End Matomo Code -->


  <meta name="generator" content="Hexo 7.3.0"></head>

	<body>
		<div id="container">
			<div id="wrap">
				<header id="header">
					<div class="navbar navbar-default">
						<div class="container">
							<div class="navbar-header">
								<a href="/">
									<img src="/assets/img/erudika.svg" width="256" height="66" alt="logo" class="erudika-logo"/>
								</a>
							</div>
							<ul class="nav navbar-nav navbar-right hidden-xs">
								<li class=""><a href="/blog"><span style="color: black;">Blog</span></a></li>
								<li class=""><a href="/#projects">Projects</a></li>
								<li class=""><a href="/#support">Support</a></li>
								<li class=""><a href="/#contact">Contact</a></li>
							</ul>
						</div>
					</div>
					
					<div id="banner" style="background: url('/assets/img/img7.jpg') center #000;
							 -webkit-background-size: cover; -moz-background-size: cover; background-size: cover;"></div>
					
					<div id="header-outer" class="outer">
						<div id="header-title" class="inner">
							<h1 id="logo-wrap">
								<span id="logo">Blog</span>
							</h1>
							
						</div>
					</div>
				</header>

				<div class="outer">
					<!--		<div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://erudika.com/blog"></form></div>-->
					<input type="text" id="search-box" class="search-form mt" value="" placeholder="Search" />
					<small class="right">powered by
						<a href="https://paraio.com" target="_blank">
							<img src="/assets/img/para_logo.svg" width="60" alt="Para"/>
						</a>
					</small>
				</div>

				<div class="outer">
					<section id="main"><article id="post-Building-a-full-stack-application-from-scratch-with-React" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/08/14/Building-a-full-stack-application-from-scratch-with-React/" class="article-date">
  <time datetime="2019-08-14T20:38:11.000Z" itemprop="datePublished">14 Aug 2019</time>
</a>
    
  </div>
  <div class="article-inner">
    
		

    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Building a full stack application from scratch with React
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Note:</strong> This article is a clone of <a href="https://erudika.com/blog/2016/06/09/Building-the-stack-from-scratch-with-Angular-2/">another one written for Angular</a>.</p>
<p>In this tutorial we’re going to build a simple single-page application with <strong>React</strong> (v16 and above). This is intended
for developers unfamiliar with the new framework or having some experience with React. First of all, I got
<strong>Visual Studio Code</strong> installed on my machine and it’s running on Linux. I chose VS Code because we’ll be working with
<strong>JavaScript</strong> and <strong>JSX</strong> and it has great support for those, but you can code in your favourite IDE as well.
The code project for this article was generated with <code>create-react-app</code>, a scaffolding tool for React. 
You’ll also need to have <strong>Git</strong>, <strong>Node.js</strong> and <strong>npm</strong> installed.</p>
<a id="more"></a>

<p><img src="https://erudika.com/assets/img/blogpost_media14.png" alt=""></p>
<h2 id="Step-0-frontend"><a href="#Step-0-frontend" class="headerlink" title="Step 0 (frontend)"></a>Step 0 (frontend)</h2><ul>
<li>Get <a href="https://code.visualstudio.com/Download" target="_blank" rel="noopener">Visual Studio Code</a></li>
<li>Get <a href="https://git-scm.com/downloads" target="_blank" rel="noopener">Git</a></li>
<li>Get <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">Node.js with npm</a></li>
<li>Generate a project with <a href="https://create-react-app.dev/docs/getting-started" target="_blank" rel="noopener">‘create-react-app’</a> with <code>npx create-react-app react-para --use-npm</code></li>
<li>Open the project in the VS Code editor</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app react-para --use-npm </span><br><span class="line"><span class="built_in">cd</span> react-para</span><br><span class="line"><span class="comment"># watches your files and does live reload</span></span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>

<p>Next - <strong>the backend</strong>. Here, I could write a simple backend in Node.js and Express but I’m lazy so I chose not to.
Instead, I’m going to use <strong>Para</strong> for my backend and I’m not going to write <em>any</em> code on the server. If you are
new to Para, it’s a general-purpose backend framework/server written in Java. It will save me a lot of time and effort
because it has a nice JSON API for our app to connect to. To run the server you’re going to need a Java runtime.</p>
<h2 id="Step-0-backend"><a href="#Step-0-backend" class="headerlink" title="Step 0 (backend)"></a>Step 0 (backend)</h2><ul>
<li>Get <a href="https://jdk.java.net/12/" target="_blank" rel="noopener">Java</a></li>
<li>Get <a href="https://paraio.org/" target="_blank" rel="noopener">Para</a></li>
<li>Start the server in a separate terminal:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># run Para</span></span><br><span class="line">java -jar para-x.y.z.jar</span><br></pre></td></tr></table></figure>

<p>Now, check if Para is running - open your browser and go to <code>http://localhost:8080/v1</code>. You should see a response like
this:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"info"</span> : <span class="string">"Para - a backend for busy developers."</span>,</span><br><span class="line">  <span class="attr">"version"</span> : <span class="string">"x.y.z"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We haven’t got access keys to the server yet, so let’s go ahead and do that, open:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost:8080&#x2F;v1&#x2F;_setup</span><br></pre></td></tr></table></figure>
<p>Save the credentials to a file, we’ll need them later to access the backend API.</p>
<h2 id="Step-1-API-access"><a href="#Step-1-API-access" class="headerlink" title="Step 1 - API access"></a>Step 1 - API access</h2><p>Let’s create an app for storing recipes - a recipe manager. Our goal will be to build just the basic CRUD functionality,
without adding extra features like authentication and login pages. By default the backend is secured and only signed
requests are allowed, but for the purpose of this tutorial we’re going to add a new permission to allow all requests to
just one specific resource - <code>/v1/recipes</code>.</p>
<p>Go to <a href="https://console.paraio.org" target="_blank" rel="noopener">console.paraio.org</a> and enter the credentials that you saved in the beginning. Also
click the cog icon to edit the API endpoint and set it to <code>http://localhost:8080</code>. Click ‘Connect’.</p>
<p>Next, go to ‘App’ on the left and edit the root app called <code>para</code>. You’ll see a section for resource permissions and
there you will write a simple permission definition in JSON:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"*"</span>: &#123;</span><br><span class="line">    <span class="attr">"recipes"</span>: [<span class="string">"*"</span>, <span class="string">"?"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This defines a single permission that allows <code>* - everyone</code> to access <code>/v1/recipes</code> using a list of allowed methods,
in this case <code>* - all HTTP methods</code> and <code>? - anonymous access</code> is allowed. Thus, we’re essentially making this resource
publicly available. Click ‘Save Changes’.</p>
<p><img src="https://erudika.com/assets/img/rman_1.png" alt=""></p>
<h2 id="Step-2-CRUD-recipes"><a href="#Step-2-CRUD-recipes" class="headerlink" title="Step 2 - CRUD recipes"></a>Step 2 - CRUD recipes</h2><p>Let’s create a new frontend component called <code>Home.js</code>.
Now let’s edit the ‘Home’ component in <code>src/Home.js</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props);</span><br><span class="line">        <span class="keyword">this</span>.state = &#123;</span><br><span class="line">            q: <span class="string">''</span>,</span><br><span class="line">            createMode: <span class="literal">false</span>,</span><br><span class="line">            recipesList: [],</span><br><span class="line">            editedRecipes: &#123;&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Let’s implement the <code>render()</code> function:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div id=<span class="string">"home"</span>&gt;</span><br><span class="line">            &lt;h1&gt;My Recipes &amp;nbsp; <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> this.newRecipeForm()&#125;&gt;Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;form onSubmit=&#123;this.search&#125;&gt;</span></span><br><span class="line"><span class="regexp">                	&lt;label&gt;Search&lt;/</span>label&gt;</span><br><span class="line">                    &lt;input type=<span class="string">"text"</span> defaultValue=<span class="string">""</span> name=<span class="string">"q"</span> placeholder=<span class="string">"Search"</span> id=<span class="string">"search"</span> /&gt;</span><br><span class="line">                &lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">            &#123;<span class="keyword">this</span>.state.recipesList &amp;&amp; <span class="keyword">this</span>.state.recipesList.length === <span class="number">0</span> ? <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"empty-box"</span>&gt;</span>No recipes to show.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> : <span class="string">""</span>&#125;</span><br><span class="line">            &lt;ul&gt;&#123;<span class="keyword">this</span>.state.recipesList.map(<span class="function">(<span class="params">recipe, index</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">this.RecipeItem</span> <span class="attr">key</span>=<span class="string">&#123;recipe.id</span> || "<span class="attr">new</span>" &#125; <span class="attr">recipe</span>=<span class="string">&#123;recipe&#125;</span> <span class="attr">index</span>=<span class="string">&#123;index&#125;</span> /&gt;</span></span>)&#125;&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>RecipeItem</code> element is implemented next:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">RecipeItem(props) &#123;</span><br><span class="line">    <span class="keyword">let</span> recipe = props.recipe;</span><br><span class="line">    <span class="keyword">let</span> index = props.index;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;li className=<span class="string">"recipe-box"</span>&gt;</span><br><span class="line">            &lt;div className=&#123;(<span class="keyword">this</span>.state.editedRecipes[recipe.id] || (!recipe.id &amp;&amp; <span class="keyword">this</span>.state.createMode)) ? <span class="string">"hide"</span> : <span class="string">""</span>&#125;&gt;</span><br><span class="line">                &lt;h3&gt;&#123;recipe.name&#125;&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">                &lt;hr /</span>&gt;</span><br><span class="line">                &lt;div&gt;&#123;<span class="keyword">this</span>.renderMD(recipe.text)&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;br /</span>&gt;</span><br><span class="line">                &lt;button onClick=&#123;(e) =&gt; <span class="keyword">this</span>.editRecipe(recipe)&#125;&gt;edit&lt;<span class="regexp">/button&gt; &amp;nbsp;</span></span><br><span class="line"><span class="regexp">            &lt;a href="/</span><span class="string">" onClick=&#123;(e) =&gt; &#123; this.removeRecipe(recipe.id); e.preventDefault() &#125;&#125; className="</span>red right<span class="string">"&gt;remove&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div&gt;</span></span><br><span class="line"><span class="string">                &lt;form onSubmit=&#123;(e) =&gt; &#123; this.addRecipe(recipe); e.preventDefault() &#125;&#125; className=&#123;((recipe.id || !this.state.createMode) &amp;&amp; !this.state.editedRecipes[recipe.id]) ? "</span>hide<span class="string">" : "</span><span class="string">"&#125;&gt;</span></span><br><span class="line"><span class="string">                    &lt;div&gt;</span></span><br><span class="line"><span class="string">                        &lt;input type="</span>text<span class="string">" value=&#123;recipe.name&#125; onChange=&#123;(e) =&gt; this.handleInputChange(e, recipe, index)&#125; placeholder="</span>Title<span class="string">" name="</span>name<span class="string">" /&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;br /&gt;</span></span><br><span class="line"><span class="string">                    &lt;div&gt;</span></span><br><span class="line"><span class="string">                        &lt;textarea value=&#123;recipe.text&#125; onChange=&#123;(e) =&gt; this.handleInputChange(e, recipe, index)&#125; rows="</span><span class="number">10</span><span class="string">" cols="</span><span class="number">33</span><span class="string">" placeholder="</span>Recipe<span class="string">" name="</span>text<span class="string">"&gt;&lt;/textarea&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;button type="</span>submit<span class="string">"&gt;</span></span><br><span class="line"><span class="string">                        &lt;span&gt;&#123;this.state.createMode ? "</span>Add<span class="string">" : "</span>Save<span class="string">"&#125;&lt;/span&gt;</span></span><br><span class="line"><span class="string">                    &lt;/button&gt;</span></span><br><span class="line"><span class="string">                    &amp;nbsp;</span></span><br><span class="line"><span class="string">                &lt;a href="</span>/<span class="string">" onClick=&#123;(e) =&gt; &#123; this.closeForm(recipe.id); e.preventDefault() &#125;&#125;&gt;Close&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;/form&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/li&gt;</span></span><br><span class="line"><span class="string">    );</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>I’ve added the “Add” button which shows the form where we can write a recipe (controlled by <code>newRecipeForm()</code>), a textarea,
and a close button. Notice how the text value of the “Add” button changes to “Save” when we’re in edit mode.</p>
<p>Let’s create the toolbar and navbar components in <code>src/App.js</code>. We’ll also install <code>react-router</code> because we want to have
2 pages - <code>/</code> Home, and <code>/about</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save react-router-dom</span><br></pre></td></tr></table></figure>
<p>Here’s the code for <code>App.js</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter, Route, NavLink &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"><span class="keyword">import</span> pkg <span class="keyword">from</span> <span class="string">'../package.json'</span>;</span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'./About'</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./Home'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">                &lt;header className=<span class="string">"App-header"</span>&gt;</span><br><span class="line">                    &lt;h1&gt;Recipe Manager &lt;code&gt;<span class="xml"><span class="tag">&lt;<span class="name">small</span>&gt;</span>v&#123;pkg.version&#125;<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span>&lt;<span class="regexp">/code&gt;&lt;/</span>h1&gt;</span><br><span class="line">                    &lt;div className=<span class="string">"more"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>header&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;</span></span><br><span class="line"><span class="regexp">                &lt;BrowserRouter basename=&#123;process.env.NODE_ENV === "production" ? "/</span>react-para<span class="string">" : "</span>/<span class="string">"&#125;&gt;</span></span><br><span class="line"><span class="string">                    &lt;nav&gt;</span></span><br><span class="line"><span class="string">                        &lt;NavLink to="</span>/<span class="string">" exact activeClassName="</span>router-link-active<span class="string">" &gt;Home&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">                        &lt;NavLink to="</span>/about<span class="string">" activeClassName="</span>router-link-active<span class="string">"&gt;About&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">                    &lt;/nav&gt;</span></span><br><span class="line"><span class="string">                    &lt;Route path="</span>/<span class="string">" exact component=&#123;Home&#125; /&gt;</span></span><br><span class="line"><span class="string">                    &lt;Route path="</span>/about<span class="string">" exact component=&#123;About&#125; /&gt;</span></span><br><span class="line"><span class="string">                &lt;/BrowserRouter&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    );</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default App;</span></span><br></pre></td></tr></table></figure>

<p>Let’s create a new service to talk to our Para backend and fetch recipes. Let’s call it <code>RecipesService</code>. 
Import the file by adding the following line to the top of <code>src/Home.js</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> RecipeService <span class="keyword">from</span> <span class="string">'./RecipeService'</span>;</span><br></pre></td></tr></table></figure>

<p>The service file should be located in <code>src/RecipeService.js</code>. We’ll modify the file <code>src/RecipeService.js</code> and
add a basic get method. Let’s also add the code for making the <code>POST</code> request to the backend for creating recipes:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">RecipeService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> appID = process.env.PARA_APP_ID || <span class="string">"app:myapp"</span>;</span><br><span class="line">    <span class="keyword">static</span> appSecret = process.env.PARA_SECRET || <span class="string">""</span>; <span class="comment">// unused</span></span><br><span class="line">    <span class="keyword">static</span> RECIPES_RESOURCE = (process.env.PARA_ENDPOINT || <span class="string">"https://paraio.com"</span>) + <span class="string">"/v1/recipes"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> headers = &#123;</span><br><span class="line">        <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span><br><span class="line">        <span class="string">'Authorization'</span>: <span class="string">'Anonymous '</span> + RecipeService.appID</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">get</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> fetch(RecipeService.RECIPES_RESOURCE, &#123; <span class="attr">headers</span>: RecipeService.headers&#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> add(name, text) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!name || !text) &#123; <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(); &#125;</span><br><span class="line">      <span class="keyword">const</span> recipe = &#123; name, text &#125;;</span><br><span class="line">      <span class="keyword">return</span> fetch(RecipeService.RECIPES_RESOURCE, &#123; <span class="attr">headers</span>: RecipeService.headers,</span><br><span class="line">        body: <span class="built_in">JSON</span>.stringify(recipe), <span class="attr">method</span>: <span class="string">'POST'</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>process.env.PARA_APP_ID</code> is an environment variable which you can override. The same is true for all the other env
variables in the code above. Note that in a production build <code>process.env.NODE_ENV</code> always equals <code>production</code>, otherwise
it has a value of <code>development</code>.</p>
<p>Now we’re going to focus on that <code>addRecipe()</code> method so let’s implement it:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">addRecipe(recipe) &#123;</span><br><span class="line">    <span class="keyword">if</span> (recipe &amp;&amp; recipe.id) &#123;</span><br><span class="line">        RecipeService.edit(recipe.id, recipe.name, recipe.text);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> recipes = <span class="keyword">this</span>.state.recipesList.slice(<span class="number">0</span>);</span><br><span class="line">        RecipeService.add(recipe.name, recipe.text).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (data) &#123;</span><br><span class="line">                data.json().then(<span class="function"><span class="params">d</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>.state.createMode) &#123;</span><br><span class="line">                        <span class="keyword">const</span> first = recipes.shift();</span><br><span class="line">                        recipes.unshift(d);</span><br><span class="line">                        recipes.unshift(first);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        recipes.unshift(d);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">this</span>.setState(&#123; <span class="attr">recipesList</span>: recipes &#125;);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.closeForm(recipe.id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the file <code>Home.js</code> we have a list of recipes <code>recipesList</code> which is an <code>Array</code> and it’s part of our local state object.
We also have <code>this.state.editedRecipes: {}</code> which keeps track of which recipe object is being edited.</p>
<p>Let’s also add the method for listing recipes <code>listRecipes()</code> and call it upon initialization. For this we also need to 
add another method called <code>componentDidMount()</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">    <span class="keyword">let</span> recipes = <span class="keyword">this</span>.listRecipes();</span><br><span class="line">    <span class="keyword">let</span> edited = &#123;&#125;;</span><br><span class="line">    recipes.then(<span class="function"><span class="params">recipes</span> =&gt;</span> &#123;</span><br><span class="line">        recipes.forEach(<span class="function">(<span class="params">recipe, index</span>) =&gt;</span> &#123;</span><br><span class="line">            edited[recipe.id] = <span class="literal">false</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;).finally(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">editedRecipes</span>:  <span class="built_in">Object</span>.assign(<span class="keyword">this</span>.state.editedRecipes, edited)&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> listRecipes() &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> RecipeService.get();</span><br><span class="line">    <span class="keyword">const</span> d = <span class="keyword">await</span> data.json();</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123; <span class="attr">recipesList</span>: d.items &#125;);</span><br><span class="line">    <span class="keyword">return</span> d.items;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>listRecipes()</code> method is marked <code>async</code> and it calls the backend API for a list of objects of type <code>recipe</code>.
When that’s done, we finally update the state and populate the <code>recipeList</code> array.</p>
<p>In <code>src/Home.js</code> we loop over the <code>recipesList</code> of all available recipes, and also a box which appears
when there are no recipes to show:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>&#123;this.state.recipesList.map((recipe, index) =&gt; <span class="tag">&lt;<span class="name">this.RecipeItem</span> <span class="attr">key</span>=<span class="string">&#123;recipe.id</span> || "<span class="attr">new</span>" &#125; <span class="attr">recipe</span>=<span class="string">&#123;recipe&#125;</span> <span class="attr">index</span>=<span class="string">&#123;index&#125;</span> /&gt;</span>)&#125;<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Let’s add the styling for <code>.recipe-box</code> and <code>.empty-box</code> in <code>src/index.css</code> (the main CSS file):</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.recipe-box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-table;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">30px</span> <span class="number">0</span> -<span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#106cc8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.empty-box</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1.5em</span> <span class="number">0</span> <span class="number">1em</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">3em</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">3px</span> dashed;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In <code>src/index.css</code> I’ve also added a few more tweaks to the CSS:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span>, <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#106cc8</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#106cc8</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.87</span>);</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">background-color</span>: <span class="number">#28739e</span>; &#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-class">.small</span> &#123; <span class="attribute">font-size</span>: <span class="number">12px</span>; <span class="attribute">height</span>: <span class="number">30px</span>; &#125;</span><br><span class="line"><span class="selector-class">.red</span> &#123; <span class="attribute">color</span>: indianred; &#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123; <span class="attribute">float</span>: right; &#125;</span><br><span class="line"><span class="selector-class">.center</span> &#123; <span class="attribute">text-align</span>: center; &#125;</span><br><span class="line"><span class="selector-class">.hide</span> &#123; <span class="attribute">display</span>: none; &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://erudika.com/assets/img/rman_2.png" alt=""></p>
<p>So, we should now we able to add recipes and after we click “Add” the form should be cleared and closed.
For this let’s add a couple of methods in <code>Home.js</code> - one to initialize the form and one to reset the
state of the form:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">newRecipeForm() &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.state.createMode) &#123;</span><br><span class="line">        <span class="keyword">this</span>.state.recipesList.unshift(&#123; <span class="attr">name</span>: <span class="string">''</span>, <span class="attr">text</span>: <span class="string">''</span> &#125;);</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123; <span class="attr">createMode</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">closeForm(recipeId) &#123;</span><br><span class="line">    <span class="keyword">if</span> (recipeId) &#123;</span><br><span class="line">        <span class="keyword">let</span> props = <span class="keyword">this</span>.state.editedRecipes;</span><br><span class="line">        props[recipeId] = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123; <span class="attr">editedRecipes</span>: props &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://erudika.com/assets/img/rman_3.png" alt=""></p>
<p>The variable <code>recipeId</code> will keep the value of the <code>id</code> when a recipe is being edited. When “Save” is clicked this
<code>id</code> is passed to the service and the backend so it won’t create a new object, just update an existing one.
We’re issuing these requests and we don’t care about the results because we can update the UI
instantly, without having to wait for the request to finish.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">editRecipe(recipe) &#123;</span><br><span class="line">    <span class="keyword">let</span> props = &#123;&#125;;</span><br><span class="line">    props[recipe.id] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123; <span class="attr">editedRecipes</span>: <span class="built_in">Object</span>.assign(<span class="keyword">this</span>.state.editedRecipes, props) &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">removeRecipe(id) &#123;</span><br><span class="line">    RecipeService.remove(id).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> recipes = <span class="keyword">this</span>.state.recipesList.slice(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123; <span class="attr">recipesList</span>: recipes.filter(<span class="function">(<span class="params">el</span>) =&gt;</span> el.id !== id) &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Let’s also add similar methods in our <code>RecipeService</code> for updating and deleting recipes. The methods <code>editRecipe()</code> and
<code>removeRecipe()</code> are relatively straightforward - when editing, we switch to edit mode and we show the form, when
removing we just filter the array <code>recipesList</code> and we discard the deleted recipe if it matches the <code>id</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> edit(id, name, text) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!id) &#123; <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(); &#125;</span><br><span class="line">  <span class="keyword">const</span> recipe = &#123; name, text &#125;;</span><br><span class="line">  <span class="keyword">return</span> fetch(RecipeService.RECIPES_RESOURCE + <span class="string">'/'</span> + id, &#123; <span class="attr">headers</span>: RecipeService.headers,</span><br><span class="line">    body: <span class="built_in">JSON</span>.stringify(recipe), <span class="attr">method</span>: <span class="string">'PATCH'</span>&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> remove(id) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!id) &#123; <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(); &#125;</span><br><span class="line">  <span class="keyword">return</span> fetch(RecipeService.RECIPES_RESOURCE + <span class="string">'/'</span> + id, &#123; <span class="attr">headers</span>: RecipeService.headers, <span class="attr">method</span>: <span class="string">'DELETE'</span>&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://erudika.com/assets/img/rman_4.png" alt=""></p>
<p>We can now add, edit and remove recipes but they aren’t very pretty and the formatting of the text
is lost. In the next step we’ll make it possible to write the recipe text in Markdown and then render it in HTML.</p>
<h2 id="Step-3-Markdown-support"><a href="#Step-3-Markdown-support" class="headerlink" title="Step 3 - Markdown support"></a>Step 3 - Markdown support</h2><p>First of all, let’s install <code>showdown</code> - a nice JavaScript parser for Markdown:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install showdown --save</span><br></pre></td></tr></table></figure>
<p>Then we import it in <code>Home.js</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Converter &#125; from &#39;showdown&#39;;</span><br></pre></td></tr></table></figure>
<p>Finally we’ll implement a simple method called <code>md2html()</code> which will be used in our template.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">md2html(text) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> Converter().makeHtml(text || <span class="string">''</span>);</span><br><span class="line">&#125;</span><br><span class="line">renderMD(text) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">__html</span>: <span class="keyword">this</span>.md2html(text) &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In our render method in <code>Home.js</code> we’ll replace <code>&lt;div&gt;{this.renderMD(recipe.text)}&lt;/div&gt;</code> with the actual rendered Markdown:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;this.renderMD(recipe.text)&#125;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>Now we render the text to HTML on the client and this allows us to write beautiful recipes like this:</p>
<p><img src="https://erudika.com/assets/img/rman_5.png" alt=""></p>
<h2 id="Step-4-Full-text-search"><a href="#Step-4-Full-text-search" class="headerlink" title="Step 4 - Full-text search"></a>Step 4 - Full-text search</h2><p>The final feature left is the recipe search box. We’ll use the built-in full-text search in Para. In <code>RecipeService.js</code> add:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> search(q) &#123;</span><br><span class="line">  <span class="keyword">return</span> fetch(RecipeService.RECIPES_RESOURCE + <span class="string">'?q='</span> + q, &#123; <span class="attr">headers</span>: RecipeService.headers&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And in <code>Home.js</code> add:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">search(event) &#123;</span><br><span class="line">    RecipeService.search(event.target.q.value || <span class="string">'*'</span>).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        data.json().then(<span class="function"><span class="params">d</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (d.items) &#123;</span><br><span class="line">                <span class="keyword">this</span>.setState(&#123; <span class="attr">recipesList</span>: d.items &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    event.preventDefault();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Finally, we add the method for handling changes to the input text:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">handleInputChange(event, recipe, index) &#123;</span><br><span class="line">    <span class="keyword">let</span> recipes = <span class="keyword">this</span>.state.recipesList.slice(<span class="number">0</span>);</span><br><span class="line">    recipe[event.target.name] = event.target.value;</span><br><span class="line">    recipes[index] = recipe;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        recipesList: <span class="built_in">Object</span>.assign(<span class="keyword">this</span>.state.recipesList, recipes)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And we’re done! Here’s final result of our <strong>Recipe Manager</strong>
(check out <a href="http://albogdano.github.io/react-para/" target="_blank" rel="noopener">the live demo</a>):</p>
<p><img src="https://erudika.com/assets/img/rman_6.png" alt=""></p>
<h2 id="Final-touches"><a href="#Final-touches" class="headerlink" title="Final touches"></a>Final touches</h2><p>You can see the result in your browser by running <code>npm start</code>. Optionally, you can make this web application “progressive”
(PWA) by editing <code>index.js</code> and adding <code>serviceWorker.register();</code>. This will create a <code>manifest.json</code> and make the
page available offline. Our code now passes the Lighthouse audit with flying colors!</p>
<p><img src="https://erudika.com/assets/img/rman_7.png" alt=""></p>
<p>All that is left is to build the project for production and deploy it:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br><span class="line"># git push origin master</span><br></pre></td></tr></table></figure>

<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Learning React takes some time as it introduces a lot of new concepts and new syntax (JSX).
Writing in JSX feels weird at first but you get used to it pretty quickly. The way <code>setState()</code> works also took me
a bit of time to understand. In general, the experience of writing React apps with the help
of the new React CLI tool is great - the scaffolding just works, the build process is fast and painless,
the JSX syntax is somewhat clean (but not as clean as in Angular), the app is well structured and the error 
messages are clear and understandable.</p>
<p><strong>Things we did:</strong></p>
<ul>
<li>generated a new project from scratch with React CLI</li>
<li>wrote a few fancy AJAX calls to our backend API using <code>fetch</code></li>
<li>wired a bunch of simple JS code between a component and a service</li>
<li>wrote some good old HTML and CSS</li>
<li>imported an external library with npm an typings</li>
</ul>
<p><strong>Things we didn’t do:</strong></p>
<ul>
<li>didn’t write <em>any</em> backend code for CRUD operations on recipes</li>
<li>didn’t define a schema for the “recipe” type on the server side</li>
</ul>
<p>The complete code for this tutorial is on GitHub at <a href="https://github.com/albogdano/react-para" target="_blank" rel="noopener">albogdano/react-para</a>.
I’ve deployed the same code to GitHub pages as a <a href="http://albogdano.github.io/react-para/" target="_blank" rel="noopener">live demo</a> which
is powered by our <a href="https://paraio.com" target="_blank" rel="noopener">cloud-based Para service</a>.</p>
<p> <em>Have questions or suggestions? Chat with us <a href="https://gitter.im/Erudika/para" target="_blank" rel="noopener">on Gitter</a>!</em></p>

      
    </div>
    <div class="article-footer">
      
				<a href="https://twitter.com/albogdano">
					<img class="img-circle" src="https://www.gravatar.com/avatar/6888890e3e742a7c7357a4c74be405b8?s=60" width="30" height="30" alt="author"/>&nbsp; Alex B.
				</a>
      

      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/jsx/" rel="tag">jsx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/para/" rel="tag">para</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/react/" rel="tag">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/tutorial/" rel="tag">tutorial</a></li></ul>

    </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2020/03/22/Status-update-Python-client-Scoold-API-integrations-and-more/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Status update - Python client, Scoold API, integrations and more
        
      </div>
    </a>
  
  
    <a href="/blog/2019/07/04/Webhooks-implemented-in-Para-and-Scoold/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Webhooks implemented in Para and Scoold</div>
    </a>
  
</nav>

  
</article>

</section>
				</div>
				<footer>
	<div class="container">
		
			<div class="row">
	<div class="col-md-6">
		
  <div class="widget-wrap">
    <h3 class="widget-title">Recents
			
				<a href="/blog/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a>
			
		</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2021/07/23/Scoold-Pro-now-integrates-with-Microsoft-Teams/">Scoold Pro now integrates with Microsoft Teams</a>
          </li>
        
          <li>
            <a href="/blog/2021/02/01/Status-update-Para-goes-global-pricing-changes/">Status update - Para goes global, pricing changes</a>
          </li>
        
          <li>
            <a href="/blog/2020/09/22/Announcing-Scoold-Cloud/">Announcing Scoold Cloud</a>
          </li>
        
          <li>
            <a href="/blog/2020/03/22/Status-update-Python-client-Scoold-API-integrations-and-more/">Status update - Python client, Scoold API, integrations and more</a>
          </li>
        
          <li>
            <a href="/blog/2019/08/14/Building-a-full-stack-application-from-scratch-with-React/">Building a full stack application from scratch with React</a>
          </li>
        
          <li>
            <a href="/blog/2019/07/04/Webhooks-implemented-in-Para-and-Scoold/">Webhooks implemented in Para and Scoold</a>
          </li>
        
          <li>
            <a href="/blog/2019/01/28/Status-update-containers-Java-11-and-more/">Status update - containers, Java 11 and more</a>
          </li>
        
          <li>
            <a href="/blog/2018/12/30/Top-5-open-source-Q-A-platforms/">Top 5 open source Q&amp;A platforms for 2021</a>
          </li>
        
          <li>
            <a href="/blog/2018/10/15/Announcing-Scoold-Pro/">Announcing Scoold Pro</a>
          </li>
        
          <li>
            <a href="/blog/2017/04/27/Introducing-Scoold-an-open-source-Q-and-A-platform/">Introducing Scoold - an open source Q&amp;A platform</a>
          </li>
        
      </ul>
    </div>
  </div>

	</div>
	<div class="col-md-3">
		
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/API/" style="font-size: 12.5px;">API</a> <a href="/blog/tags/angular/" style="font-size: 12.5px;">angular</a> <a href="/blog/tags/aws/" style="font-size: 10px;">aws</a> <a href="/blog/tags/baas/" style="font-size: 12.5px;">baas</a> <a href="/blog/tags/backend/" style="font-size: 12.5px;">backend</a> <a href="/blog/tags/blog/" style="font-size: 10px;">blog</a> <a href="/blog/tags/clone/" style="font-size: 10px;">clone</a> <a href="/blog/tags/devices/" style="font-size: 10px;">devices</a> <a href="/blog/tags/docker/" style="font-size: 10px;">docker</a> <a href="/blog/tags/dynamodb/" style="font-size: 10px;">dynamodb</a> <a href="/blog/tags/enterprise/" style="font-size: 10px;">enterprise</a> <a href="/blog/tags/frameworks/" style="font-size: 10px;">frameworks</a> <a href="/blog/tags/frontend/" style="font-size: 10px;">frontend</a> <a href="/blog/tags/general/" style="font-size: 12.5px;">general</a> <a href="/blog/tags/helm/" style="font-size: 10px;">helm</a> <a href="/blog/tags/hosting/" style="font-size: 12.5px;">hosting</a> <a href="/blog/tags/integration/" style="font-size: 10px;">integration</a> <a href="/blog/tags/ios/" style="font-size: 10px;">ios</a> <a href="/blog/tags/iot/" style="font-size: 10px;">iot</a> <a href="/blog/tags/jprime/" style="font-size: 12.5px;">jprime</a> <a href="/blog/tags/jsx/" style="font-size: 10px;">jsx</a> <a href="/blog/tags/kubernetes/" style="font-size: 10px;">kubernetes</a> <a href="/blog/tags/lucene/" style="font-size: 10px;">lucene</a> <a href="/blog/tags/mattermost/" style="font-size: 10px;">mattermost</a> <a href="/blog/tags/mongodb/" style="font-size: 10px;">mongodb</a> <a href="/blog/tags/ms-teams/" style="font-size: 10px;">ms teams</a> <a href="/blog/tags/ng-admin/" style="font-size: 10px;">ng-admin</a> <a href="/blog/tags/open-source/" style="font-size: 10px;">open-source</a> <a href="/blog/tags/para/" style="font-size: 20px;">para</a> <a href="/blog/tags/para-cli/" style="font-size: 10px;">para-cli</a> <a href="/blog/tags/python/" style="font-size: 10px;">python</a> <a href="/blog/tags/react/" style="font-size: 10px;">react</a> <a href="/blog/tags/release/" style="font-size: 15px;">release</a> <a href="/blog/tags/saas/" style="font-size: 10px;">saas</a> <a href="/blog/tags/scoold/" style="font-size: 17.5px;">scoold</a> <a href="/blog/tags/search/" style="font-size: 10px;">search</a> <a href="/blog/tags/slack/" style="font-size: 10px;">slack</a> <a href="/blog/tags/stackoverflow/" style="font-size: 12.5px;">stackoverflow</a> <a href="/blog/tags/swift/" style="font-size: 10px;">swift</a> <a href="/blog/tags/tips/" style="font-size: 10px;">tips</a> <a href="/blog/tags/tutorial/" style="font-size: 12.5px;">tutorial</a> <a href="/blog/tags/typescript/" style="font-size: 10px;">typescript</a> <a href="/blog/tags/webhooks/" style="font-size: 10px;">webhooks</a>
    </div>
  </div>

	</div>
	<div class="col-md-3">
		<div class="widget-wrap">
	<h3 class="widget-title">Links</h3>
	<div class="widget">
<!--		<a class="twitter-timeline" data-lang="en" data-width="290" data-height="300" data-theme="light" href="https://twitter.com/erudika">
			Tweets by erudika</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>-->
		<ul>
			<li>
				<a href="https://github.com/Erudika">Erudika on GitHub</a>
			</li>
			<li>
				<a href="https://www.linkedin.com/company/erudika/">Erudika on LinkedIn</a>
			</li>
			<li>
				<a href="https://hub.docker.com/repositories/erudikaltd">Erudika on Docker Hub</a>
			</li>
		</ul>
	</div>
</div>


	</div>

<!--	<div>
		<div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://erudika.com/blog"></form></div>
	</div>-->
</div>

		
		<div class="row">
				<div class="col-xs-6">
					<i class="fa fa-creative-commons" title="Creative Commons Attribution, Share-Alike License"></i>
					2024 Erudika
				</div>
				<div class="col-xs-6 text-right">
					<a href="https://github.com/Erudika/erudika.github.io" target="_blank">Powered by Hexo.</a>
					<strong>
						Images courtesy of <a href="http://nos.twnsnd.co" target="_blank">New Old Stock</a>.
					</strong>
				</div>
		</div>
	</div>
</footer>
			</div>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.11.1/typeahead.bundle.min.js"></script>
<script>
	if (!Modernizr.svg) { $("img.erudika-logo").attr("src", "/assets/img/erudika.png"); }
</script>

  
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">

  
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>


		</div>
	</body>
</html>
