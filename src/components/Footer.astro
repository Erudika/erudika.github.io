---
import marketing from "../data/site-data.json";
import { Image } from 'astro:assets';
import erudikaMap from "../images/erudika_map_dark.png"
import erudikaDark from "../images/erudika-dark.svg"

const { footer } = marketing.site;
const links = footer.links;
const socialLinks = footer.social;
---

<footer class="bg-slate-950 border-base-300 border-t text-slate-200">
  <div class="section-shell">
    <div class="gap-10 grid md:grid-cols-2 lg:grid-cols-[1.1fr_1.6fr_1fr_0.7fr] py-12">
      <div class="space-y-4">
        <div class="flex items-center">
          <span class="w-[130px] h-[40px] logo-frame">
            <Image src={erudikaDark} alt={footer.logoAlt} loading="lazy"/>
          </span>
        </div>
        <p class="max-w-sm text-slate-300 text-sm">{footer.companyBlurb}</p>
      </div>

      <div class="space-y-3">
        <div class="text-slate-100 text-xs uppercase tracking-widest">{footer.mapLabel}</div>
        <a href="https://goo.gl/maps/QGRjd" aria-label={footer.mapLinkLabel}>
          <Image
            src={erudikaMap}
            alt={footer.mapAlt}
            loading="lazy"
            class="shadow-soft border border-slate-500 rounded-[3px] w-full"
          />
        </a>
      </div>

      <div class="space-y-4 text-slate-300 text-sm">
        <div class="text-slate-100 text-xs uppercase tracking-widest">{footer.addressLabel}</div>
        {footer.addressLines.map((line, index) => (
          index === footer.addressLines.length - 1 ? (
            <div><a class="underline" href={`mailto:${line}`}>{line}</a></div>
          ) : (
            <div>{line}</div>
          )
        ))}
      </div>

      <div class="lg:justify-self-end content-start gap-3 grid text-sm lg:text-right">
        <div class="text-slate-100 text-xs uppercase tracking-widest">{footer.linksLabel}</div>
        {links.map((link) => (
          <a href={link.href} class="text-slate-300 hover:text-white">{link.label}</a>
        ))}
      </div>
    </div>

    <div class="flex flex-wrap justify-between items-center gap-4 py-6 border-slate-800 border-t text-slate-400 text-xs">
      <div class="flex items-center gap-3">
        <span class="text-slate-100 text-xs uppercase tracking-widest">{footer.themeLabel}</span>
        <button
          id="theme-toggle"
          class="bg-slate-900 border border-slate-700 hover:border-slate-100 text-slate-200 btn btn-xs"
          type="button"
        >
          {footer.themeDefault}
        </button>
      </div>
      <div class="flex flex-wrap items-center gap-4">
        {socialLinks.map((link) => (
          <a href={link.href} class="text-slate-300 hover:text-white">{link.label}</a>
        ))}
      </div>
    </div>
  </div>
</footer>
