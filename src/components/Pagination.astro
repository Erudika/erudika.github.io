---
import marketing from "../data/site-data.json";

const { pagination } = marketing.site.components;
const { currentPage = 1, totalPages = 1, basePath = "/blog/page" } = Astro.props;

const pageNumbers = Array.from({ length: totalPages }, (_, i) => i + 1);
const pageLink = (page) => (page === 1 ? "/blog" : `${basePath}/${page}`);
---

<nav class="mt-10 flex flex-wrap items-center gap-2 text-sm">
  {currentPage > 1 && (
    <a class="btn btn-ghost btn-sm" href={pageLink(currentPage - 1)}>
      {pagination.previous}
    </a>
  )}
  {pageNumbers.map((page) => (
    <a
      class={`btn btn-sm ${page === currentPage ? "btn-primary text-white" : "btn-ghost"}`}
      href={pageLink(page)}
      aria-current={page === currentPage ? "page" : undefined}
    >
      {page}
    </a>
  ))}
  {currentPage < totalPages && (
    <a class="btn btn-ghost btn-sm" href={pageLink(currentPage + 1)}>
      {pagination.next}
    </a>
  )}
</nav>
